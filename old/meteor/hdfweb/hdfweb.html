<head>
  <title>HDFWeb</title>
</head>

<body>
      
	{{> header}}
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav" style="height: 400px;">
            
            {{> folders}}
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span9">
          {{> mainView}}
          <div class="row-fluid">
          </div><!--/row-->
        </div><!--/span-->
      </div><!--/row-->
      <hr>

      <footer>
        <p>NEMALOAD 2013</p>
      </footer>

    </div><!--/.fluid-container-->

</body>

<template name="mainView">
	<div class="hero-unit"  style="height:300px;" overflow="auto">
    <!--Stuff that everyone sees -->
    {{#if isViewing "viewingAbout"}}

      <p> This is the about screen </p>

    {{/if}}

    {{#if isViewing "viewingHelp"}}

      <p> This is the Help screen </p>

    {{/if}}
    <!-- Stuff that logged in users can see -->
    {{#if currentUser}}

      {{#if isViewing "viewingFirstScreen"}}
      
        <p> Please choose a dataset to explore from the list to the left. </p>
      
      {{/if}}
      
      {{#if isViewing "fileListing"}}
      
      {{> fileView}}
      
      {{/if}}
    <!--Stuff that people who aren't logged in see -->
    {{else}}
      
      {{#if isViewing "viewingFirstScreen"}}
      
        <h1> Welcome to HDFWeb </h1>
        HDFWeb allows both NEMALOAD researchers and the public to interactively view
        the project data.
        <p><a href="http://nemaload.github.io/HDFWeb" class="btn btn-primary btn-large">Learn more &raquo;</a></p>
      
      {{/if}}
      
      {{#if isViewing "fileListing"}}
        
        <p> You need to log in to view files. </p>
      
      {{/if}}
    
    {{/if}}

            
  </div>
</template>


<template name="fileView">
  <h3> {{getFolderName}} </h3>
<div style="height: 300px; overflow: auto;">
<table class="table table-striped" >
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Size</th>
    </tr>
  </thead>
  <tbody>
{{#each filesWithId}}
<tr class="fileViewRow" fileId={{_id}}>
<td> {{_id}} </td>
<td> {{baseName}} </td>
<td> {{size}} </td>
</tr>
{{/each}}
</tbody>
</table>
</div>
</template>





<template name="header">
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="brand" id="triggerFirstScreen">HDFWeb</a>
              <div class="nav-collapse collapse">
                <div class="navbar-text pull-right">
                  {{loginButtons align="right"}}
                </div>
              <ul class="nav">
                <li><a id="triggerAbout">About</a></li>       
                <li><a id="triggerHelp">Help</a></li>
                <li><a href="http://nemaload.com" target="_blank">NEMALOAD</a></li>
                <li><p id="databaseConnection"><i class="icon-cloud"></i> Status: {{connectionStatus}}</p></li>
              </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>
  </div>
</template>

<!-- Folder related templates -->

<!-- The folder nav list -->
<template name="folders">
  <ul class="nav nav-list" >
  <li class="nav-header"><i class="icon-folder-close"></i> Folders</li>
  {{#each folders}}
    {{#if isCurrentFolder _id}}
    <li><a id="{{_id}}"><i class="icon-folder-open-alt"></i> {{name}}</a></li>
    {{else}}
    <li><a id="{{_id}}"><i class="icon-folder-close-alt"></i> {{name}}</a></li>
    {{/if}}
  {{/each}}
</ul>
</template>

<!-- The new folder input -->
<template name="newFolderInput">
  <input id="new_folder_name" type="text" />
  <input type="button" value="Add Folder" />
</template>


		
			  
      
